(self["webpackChunkchronicle"]=self["webpackChunkchronicle"]||[]).push([[527,279],{279:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"image-view"},[t("img",{class:{loading:e.is_loading,fit_width:e.image_aspect_ratio<1},attrs:{src:e.src},on:{load:e.handle_image_load}}),e.is_loading?t("Preloader",{attrs:{full:"",fill:"",loader_type:e.loader_type}}):e._e()],1)},i=[],a=s(7581),l=s(8315),n=s(4026),o=s(4806),u=(0,a.Z)(n.Z).extend({name:"ImageView",components:{Preloader:l.Z},data(){return{is_loading:!0,image_width:0,image_height:0,image_aspect_ratio:0}},props:{src:{type:String,required:!0},loader_type:{type:String,default:l.d.DefaultInner}},mounted(){(0,o.debounce)(this.set_loading,1e3)},methods:{handle_image_load(e){this.set_loading(!1),this.image_width=e.target.naturalWidth,this.image_height=e.target.naturalHeight,this.image_aspect_ratio=this.image_width/this.image_height},set_loading(e){this.is_loading=e}}}),c=u,_=s(1001),h=(0,_.Z)(c,r,i,!1,null,"3dc40225",null),p=h.exports},8315:function(e,t,s){"use strict";s.d(t,{d:function(){return r},Z:function(){return _}});var r,i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"preloader",class:{full:e.full,fill:e.fill}},[t("span",{staticClass:"loader",attrs:{"data-loader-type":e.loader_type}})])},a=[],l=s(6369);(function(e){e["Default"]="default",e["DefaultInner"]="default-inner",e["Alternate01"]="alternate-01",e["Alternate02"]="alternate-02",e["Coffee"]="coffee"})(r||(r={}));var n=l.ZP.extend({name:"Preloader",data(){return{}},props:{full:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},loader_type:{type:String,default:r.Alternate01}},mounted(){},methods:{}}),o=n,u=s(1001),c=(0,u.Z)(o,i,a,!1,null,"5b1222ea",null),_=c.exports},3527:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"search-result"},[t("h2",{domProps:{innerHTML:e._s(e.search_results_message)}}),t("div",{staticClass:"results-list"},[e._l(e.filtered_routes,(function(s,r){return!s.service&&!s.is_extra||e.$store.state.search_query.length>0?t("router-link",{key:r,staticClass:"result-preview",style:{backgroundColor:e.get_thumb_bg_color(s)},attrs:{to:e.get_route_link(s)}},[e.is_mobile||void 0==s.preview?e._e():t("ImageView",{attrs:{src:s.preview}}),t("div",{staticClass:"fader"}),t("h3",{domProps:{innerHTML:e._s(e.get_item_title(s))}})],1):e._e()})),t("div",{staticClass:"search-section"},[e.show_all_applets?t("h2",[e._v("all applets")]):e._e()]),e._l(e.all_applets,(function(s,r){return e.show_all_applets?t("router-link",{key:`all_${r}`,staticClass:"result-preview",style:{backgroundColor:e.get_thumb_bg_color(s)},attrs:{to:e.get_route_link(s)}},[e.is_mobile||void 0==s.preview?e._e():t("ImageView",{attrs:{src:s.preview}}),t("div",{staticClass:"fader"}),t("h3",{domProps:{innerHTML:e._s(e.get_item_title(s))}})],1):e._e()})),t("div",{staticClass:"search-section"},[e.show_all_applets?t("h2",[e._v("extra applets")]):e._e()]),e._l(e.extra_applets,(function(s,r){return e.show_all_applets?t("router-link",{key:`extra_${r}`,staticClass:"result-preview",style:{backgroundColor:e.get_thumb_bg_color(s)},attrs:{to:e.get_route_link(s)}},[e.is_mobile||void 0==s.preview?e._e():t("ImageView",{attrs:{src:s.preview}}),t("div",{staticClass:"fader"}),t("h3",{domProps:{innerHTML:e._s(e.get_item_title(s))}})],1):e._e()})),t("div",{staticClass:"search-section"},[e.show_all_applets?t("h2",[e._v("service applets")]):e._e()]),e._l(e.service_applets,(function(s,r){return e.show_all_applets?t("router-link",{key:`service_${r}`,staticClass:"result-preview",style:{backgroundColor:e.get_thumb_bg_color(s)},attrs:{to:e.get_route_link(s)}},[e.is_mobile||void 0==s.preview?e._e():t("ImageView",{attrs:{src:s.preview}}),t("div",{staticClass:"fader"}),t("h3",{domProps:{innerHTML:e._s(e.get_item_title(s))}})],1):e._e()}))],2)])},i=[],a=s(3185);s(7658);class l{static getDescendantProperty(e,t,s=[]){let r,i,a,n,o,u;if(t){if(a=t.indexOf("."),-1===a?r=t:(r=t.slice(0,a),i=t.slice(a+1)),n=e[r],null!==n&&"undefined"!==typeof n)if(i||"string"!==typeof n&&"number"!==typeof n)if("[object Array]"===Object.prototype.toString.call(n))for(o=0,u=n.length;o<u;o++)l.getDescendantProperty(n[o],i,s);else i&&l.getDescendantProperty(n,i,s);else s.push(n)}else s.push(e);return s}}class n{constructor(e=[],t=[],s={}){Array.isArray(t)||(s=t,t=[]),this.haystack=e,this.keys=t,this.options=Object.assign({caseSensitive:!1,sort:!1},s)}search(e=""){if(""===e)return this.haystack;const t=[];for(let s=0;s<this.haystack.length;s++){const r=this.haystack[s];if(0===this.keys.length){const s=n.isMatch(r,e,this.options.caseSensitive);s&&t.push({item:r,score:s})}else for(let s=0;s<this.keys.length;s++){const i=l.getDescendantProperty(r,this.keys[s]);let a=!1;for(let s=0;s<i.length;s++){const l=n.isMatch(i[s],e,this.options.caseSensitive);if(l){a=!0,t.push({item:r,score:l});break}}if(a)break}}return this.options.sort&&t.sort(((e,t)=>e.score-t.score)),t.map((e=>e.item))}static isMatch(e,t,s){e=String(e),t=String(t),s||(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase());const r=n.nearestIndexesFor(e,t);return!!r&&(e===t?1:r.length>1?r[r.length-1]-r[0]+2:2+r[0])}static nearestIndexesFor(e,t){const s=t.split("");let r=[];const i=n.indexesOfFirstLetter(e,t);return i.forEach(((t,i)=>{let a=t+1;r[i]=[t];for(let l=1;l<s.length;l++){const t=s[l];if(a=e.indexOf(t,a),-1===a){r[i]=!1;break}r[i].push(a),a++}})),r=r.filter((e=>!1!==e)),!!r.length&&r.sort(((e,t)=>1===e.length?e[0]-t[0]:(e=e[e.length-1]-e[0],t=t[t.length-1]-t[0],e-t)))[0]}static indexesOfFirstLetter(e,t){const s=t[0];return e.split("").map(((e,t)=>e===s&&t)).filter((e=>!1!==e))}}var o=s(3889),u=s(279),c=s(4026),_=s(7581),h=s(4806);let p;var d=(0,_.Z)(c.Z).extend({name:"SearchResults",data(){return{items_found:0}},beforeMount(){p=null==p?new n(a.x,["router.name","title","tags"],{caseSensitive:!1}):p},beforeDestroy(){},mounted(){this.$refs.search_input&&(this.$refs.search_input.value="")},props:{skip_launcher:{type:Boolean,default:!1}},computed:{applets(){return a.x},search_query(){return this.$store.state.search_query},filtered_routes(){if(this.$store.state.search_query.length>0){const e=p.search(this.$store.state.search_query);return this.items_found=e.length,e}return this.items_found=a.x.length,a.x},all_applets(){return(0,h.filter)(a.x,(e=>!e.service&&!e.is_extra))},service_applets(){return(0,h.filter)(a.x,(e=>e.service))},extra_applets(){return(0,h.filter)(a.x,(e=>e.is_extra))},show_all_applets(){return this.$store.state.search_query.length>0},search_results_message(){return 0==this.$store.state.search_query.length?"c'mon, type something and let's find what you're looking for!":this.$store.state.search_query.length>0&&this.items_found>0?`found ${this.items_found} ${this.items_found>1?"matches":"match"} for "${this.$store.state.search_query}"`:"aw, no matches found :( But hey, don't give up!"}},methods:{get_random_web_color:o.HG,get_thumb_bg_color(e){return this.is_mobile?(0,o.jN)(e.title):"#000"},get_route_link(e){let t="";return t=!1===this.skip_launcher||e.summary||e.document?`/applet-launcher/${e.index}`:this.$router.resolve({name:e.route.name,props:e.props}).route.path,t},get_item_title(e){return e.title.length>0?e.title:e.route.name},handle_result_item_click(e){!1===this.skip_launcher||e.summary||e.document?this.$store.commit("route_replace",{name:"applet/applet-launcher",props:{applet:e.index.toString()}}):this.$store.commit("route_replace",{name:e.route.name,props:e.props})},get_preview(e){return s(4594)(e)}},components:{ImageView:u["default"]}}),f=d,g=s(1001),m=(0,g.Z)(f,r,i,!1,null,null,null),y=m.exports},4594:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=4594,e.exports=t}}]);
//# sourceMappingURL=527.7d60a518.js.map