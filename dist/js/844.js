"use strict";(self["webpackChunkchronicle"]=self["webpackChunkchronicle"]||[]).push([[844,612],{3618:function(t,e,a){a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"image-view",on:{click:function(e){return t.$emit("click",e)}}},[t._l(t.srcs,(function(a,i){return e("img",{key:i,class:{loading:t.is_loading,fit_width:t.image_aspect_ratio<1,current:t.current_index===i},attrs:{src:a},on:{load:t.handle_image_load}})})),t.is_loading?e("Preloader",{attrs:{full:"",fill:"",loader_type:t.loader_type}}):t._e()],2)},r=[],s=a(7581),l=a(2375),n=a(4026),o=a(4806),p=(0,s.Z)(n.Z).extend({name:"ImageSlidesView",components:{Preloader:l.Z},data(){return{is_loading:!0,image_width:0,image_height:0,image_aspect_ratio:0,current_index:0,timeout_id:null}},props:{srcs:{required:!0},src:{type:String,required:!1},loader_type:{type:String,default:l.d.Alternate01},duration:{type:Number,default:2500}},mounted(){this.srcs&&0!=this.srcs.length||(this.srcs=[this.src]),(0,o.debounce)(this.set_loading,1e3),this.cycle_images()},beforeDestroy(){this.timeout_id&&clearTimeout(this.timeout_id)},methods:{cycle_images(){this.current_index=(this.current_index+1)%this.srcs.length,this.timeout_id=setTimeout((()=>{this.cycle_images()}),this.duration)},handle_image_load(t){this.set_loading(!1),this.image_width=t.target.naturalWidth,this.image_height=t.target.naturalHeight,this.image_aspect_ratio=this.image_width/this.image_height},set_loading(t){this.is_loading=t}}}),_=p,d=a(1001),u=(0,d.Z)(_,i,r,!1,null,null,null),c=u.exports},2375:function(t,e,a){a.d(e,{d:function(){return i},Z:function(){return d}});var i,r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"preloader",class:{full:t.full,fill:t.fill}},[e("span",{staticClass:"loader",attrs:{"data-loader-type":t.loader_type}})])},s=[],l=a(6369);(function(t){t["Default"]="default",t["DefaultInner"]="default-inner",t["Alternate01"]="alternate-01",t["Alternate02"]="alternate-02",t["Coffee"]="coffee",t["Chiptune"]="chiptune"})(i||(i={}));var n=l.ZP.extend({name:"Preloader",data(){return{}},props:{full:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},loader_type:{type:String,default:i.Alternate01}},mounted(){},methods:{}}),o=n,p=a(1001),_=(0,p.Z)(o,r,s,!1,null,"676665e7",null),d=_.exports},9975:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{ref:"root",staticClass:"applet-launcher",on:{scroll:t.handle_scroll}},[void 0!==t.applet_data?e("div",{staticClass:"launcher"},[e("div",{staticClass:"brief",class:{no_preview:!t.applet_data.preview}},[e("h1",{domProps:{innerHTML:t._s(t.applet_data.title.toUpperCase())}}),e("div",{staticClass:"brief-info"},[t.applet_data.summary?e("TextView",{attrs:{src:t.applet_data.summary}}):t._e(),t.applet_data.package?e("PackageExplorer",{attrs:{package:t.applet_data.package}}):t._e()],1),e("div",{staticClass:"avatar"},[t.need_show_preview()?e("ImageSlidesView",{attrs:{srcs:t.get_preview_images(),src:t.applet_data.preview}}):t._e(),"about"!==t.applet_data.route.name?e("router-link",{staticClass:"button launch",attrs:{to:t.applet_route_link}},[e("p",[t._v("Launch")])]):t._e()],1)]),e("div",{staticClass:"tags"},t._l(t.applet_data.tags,(function(a,i){return e("div",{key:i,staticClass:"tag-thumb"},[e("p",{style:{color:`${t.get_bright_web_color(a)}`},domProps:{innerHTML:t._s(`${a}`)}})])})),0),t.applet_data.document?e("Showdown",{attrs:{src:t.applet_data.document}}):t._e(),t._e()],1):t._e()])},r=[],s=a(7581),l=a(3185),n=a(5801),o=a(4026),p=a(3889),_=a(3618),d=a(4806),u=(0,s.Z)(o.Z).extend({name:"AppletLauncher",components:{Showdown:n["default"],ImageSlidesView:_.Z},mixins:[o.Z],data(){return{applet_data:void 0,scroll_height:0,scroll_top:0,summary:""}},mounted(){this.applet_data=(0,d.find)(l.xc,(t=>(0,p.rq)(t.title)===this.applet)),this.applet_data&&this.applet_data.summary&&this.update_summary()},beforeMount(){},methods:{get_random_web_color:p.HG,get_bright_web_color:p.XV,get_preview_images(){return this.applet_data&&this.applet_data.preview_images&&this.applet_data.preview_images.length>0?this.applet_data.preview_images:this.applet_data&&this.applet_data.preview?[this.applet_data.preview]:[]},need_show_preview(){let t=this.get_preview_images().length>0;return console.log(t),t},async update_summary(){this.summary=await(0,p.fK)(this.applet_data.summary)},handle_scroll(t){this.scroll_height=this.$refs.root.scrollHeight,this.scroll_top=this.$refs.root.scrollTop},launch(){this.route_replace(this.applet_data.route.name,this.applet_data.props)}},computed:{applet_route_link(){return this.$router.resolve({name:this.applet_data.route.name,params:this.applet_data.props}).route.path}},props:{applet:{type:String,default(){return(-1).toString()},required:!0}}}),c=u,h=a(1001),m=(0,h.Z)(c,i,r,!1,null,null,null),g=m.exports}}]);
//# sourceMappingURL=844.js.map