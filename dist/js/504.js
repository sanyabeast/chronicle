"use strict";(self["webpackChunkchronicle"]=self["webpackChunkchronicle"]||[]).push([[504,670,344],{8670:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"image-view",on:{click:function(t){return e.$emit("click",t)}}},[t("img",{class:{loading:e.is_loading,fit_width:e.image_aspect_ratio<1},attrs:{src:e.src},on:{load:e.handle_image_load}}),e.is_loading?t("Preloader",{attrs:{full:"",fill:"",loader_type:e.loader_type}}):e._e()],1)},o=[],a=n(7581),s=n(2375),l=n(4026),r=n(4806),c=(0,a.Z)(l.Z).extend({name:"ImageView",components:{Preloader:s.Z},data(){return{is_loading:!0,image_width:0,image_height:0,image_aspect_ratio:0}},props:{src:{type:String,required:!0},loader_type:{type:String,default:s.d.Alternate01}},mounted(){(0,r.debounce)(this.set_loading,1e3)},methods:{handle_image_load(e){this.set_loading(!1),this.image_width=e.target.naturalWidth,this.image_height=e.target.naturalHeight,this.image_aspect_ratio=this.image_width/this.image_height},set_loading(e){this.is_loading=e}}}),d=c,u=n(1001),p=(0,u.Z)(d,i,o,!1,null,null,null),_=p.exports},9689:function(e,t,n){n.r(t),n.d(t,{EFileType:function(){return o},EPackageExplorerMode:function(){return i},default:function(){return w}});var i,o,a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"root",staticClass:"package-explorer"},[e.package_data?t("div",{staticClass:"files"},e._l(e.package_data,(function(n,i){return t("a",{key:`file_${i}`,staticClass:"file",attrs:{title:n[1],target:"_blank","data-file-type":e.detect_file_type(n[1]),href:n[1]},on:{click:function(t){return e.handle_link_pointerdown(t,n)}}},[t("ImageView",{attrs:{src:e.get_file_type_icon(e.detect_file_type(n[1]))}}),t("div",{staticClass:"data"},[t("p",{staticClass:"title",domProps:{innerHTML:e._s(n[0])}}),t("p",{staticClass:"path",domProps:{innerHTML:e._s(n[1])}})])],1)})),0):e._e(),e.show_syntax?t("Syntax",{ref:"syntax",attrs:{popup:"true",file:e.syntax_file},on:{close:function(t){e.show_syntax=!1}}}):e._e()],1)},s=[],l=n(7581),r=n(2007),c=n(4026),d=n(8670),u=n(3185),p=n(4806),_=n(5510);(function(e){e[e["Default"]=0]="Default",e[e["Lite"]=1]="Lite"})(i||(i={})),function(e){e["Link"]="link",e["Image"]="image",e["Video"]="video",e["Audio"]="audio",e["Text"]="text",e["Mail"]="mail",e["GoogleLink"]="google-link",e["Markdown"]="markdown",e["GithubRepo"]="github-repo",e["WikipediaArticle"]="wikipedia-article",e["SketchfabModel"]="sketchfab-model",e["AndroidApk"]="android-apk",e["WindowsExe"]="windows-exe",e["MacosDMG"]="macos-dmg",e["LocalFile"]="local-file",e["PythonScript"]="python-script"}(o||(o={}));const h=[o.Text,o.Markdown,o.PythonScript];var f=(0,l.Z)(c.Z).extend({name:"PackageExplorer",components:{Showdown:r["default"],ImageView:d["default"],Syntax:_.Z},data(){return{show_syntax:!1,syntax_file:null}},mounted(){},watch:{package(){}},computed:{package_data(){return(0,p.get)(u.B9,this.package,null)}},props:{package:null,mode:{type:Number,default:i.Default}},methods:{handle_link_pointerdown(e,t){console.log("handle_link_pointerdown",e,t),this.should_file_should_be_opened_in_syntax_highlighter(this.detect_file_type(t[1]))&&(e.preventDefault(),this.syntax_file=t[1],this.show_syntax=!0)},should_file_should_be_opened_in_syntax_highlighter(e){return h.includes(e)},detect_file_type(e){if(!(0,p.isString)(e))throw new Error("url is not a string");console.dir(e);let t=o.Link;return e.startsWith("mailto:")?o.Mail:e.includes("github.com")?o.GithubRepo:e.includes("wikipedia.org")?o.WikipediaArticle:e.includes("sketchfab.com")?o.SketchfabModel:e.includes("google.com")?o.GoogleLink:e.endsWith(".md")?o.Markdown:e.endsWith(".txt")?o.Text:e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")||e.endsWith(".gif")?o.Image:e.endsWith(".mp4")||e.endsWith(".webm")||e.endsWith(".ogg")?o.Video:e.endsWith(".mp3")||e.endsWith(".wav")||e.endsWith(".ogg")?o.Audio:e.endsWith(".apk")?o.AndroidApk:e.endsWith(".exe")?o.WindowsExe:e.endsWith(".dmg")?o.MacosDMG:e.endsWith(".py")?o.PythonScript:e.startsWith("assets/")?o.LocalFile:t},get_file_type_icon(e){switch(e){case o.Text:return"assets/icons/file_txt_01.png";case o.Markdown:return"assets/icons/file_markdown_01.png";case o.Image:return"assets/icons/file_image_01.png";case o.Video:return"assets/icons/file_video_01.png";case o.Audio:return"assets/icons/file_audio_01.png";case o.Mail:return"assets/icons/file_mailto_01.png";case o.PythonScript:return"assets/icons/file_python_01.png";case o.GoogleLink:return"assets/icons/file_google_01.png";case o.GithubRepo:return"assets/icons/file_github_01.png";case o.WindowsExe:case o.AndroidApk:case o.MacosDMG:return"assets/icons/file_windows_app_01.png";case o.LocalFile:return"assets/icons/file_local_01.png";default:return"assets/icons/file_unknown_03.png"}}}}),g=f,m=n(1001),y=(0,m.Z)(g,a,s,!1,null,null,null),w=y.exports},2375:function(e,t,n){n.d(t,{d:function(){return i},Z:function(){return u}});var i,o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"preloader",class:{full:e.full,fill:e.fill}},[t("span",{staticClass:"loader",attrs:{"data-loader-type":e.loader_type}})])},a=[],s=n(6369);(function(e){e["Default"]="default",e["DefaultInner"]="default-inner",e["Alternate01"]="alternate-01",e["Alternate02"]="alternate-02",e["Coffee"]="coffee",e["Chiptune"]="chiptune"})(i||(i={}));var l=s.ZP.extend({name:"Preloader",data(){return{}},props:{full:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},loader_type:{type:String,default:i.Alternate01}},mounted(){},methods:{}}),r=l,c=n(1001),d=(0,c.Z)(r,o,a,!1,null,"676665e7",null),u=d.exports},5510:function(e,t,n){n.d(t,{Z:function(){return _}});var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"syntax",class:{popup:e.popup,closing:e.closing},on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")},mouseover:function(t){if(t.target!==t.currentTarget)return null;e.closing=!0},mouseout:function(t){if(t.target!==t.currentTarget)return null;e.closing=!1}}},[t("div",{staticClass:"content"},[e.popup?t("div",{staticClass:"popup-controls"},[t("button",{staticClass:"download",on:{click:function(t){return e.download_as_file(e.file_name,e.text_content)}}},[e._v("download")]),t("button",{staticClass:"copy",class:{copied_tooltip:e.copied_tooltip},on:{click:function(t){e.copy_to_clipboard(e.text_content),e.show_copied_tooltip()}}},[e._v("copy")]),t("button",{staticClass:"close",class:{closing:e.closing},on:{click:function(t){return e.$emit("close")},mouseover:function(t){if(t.target!==t.currentTarget)return null;e.closing=!0},mouseout:function(t){if(t.target!==t.currentTarget)return null;e.closing=!1}}},[e._v("close")])]):e._e(),t("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.text_content,expression:"text_content"}]},[t("code",{staticClass:"javascript"})])])])},o=[],a=n(7581),s=n(4026),l=n(4806),r=n(3889),c=(0,a.Z)(s.Z).extend({name:"Syntax",data(){return{copied_tooltip:!1,closing:!1,text_content:"",file_name:"unknown"}},props:{code:{type:[String,Object],required:!0,default(){return'const example = "Hello, PrismJS!";'}},file:{type:String,default:null},popup:{type:Boolean,default:!1},download_name:{type:String,default:""}},mounted(){this.update()},watch:{code(){this.update()},file(){this.update()}},methods:{async update(){this.file?(this.text_content=await(0,r.fK)(this.file),this.file_name=this.download_name.length?this.download_name:this.file.split("/").pop(),console.log("update",this.file,this.text_content)):((0,l.isString)(this.code)?this.text_content=this.code:this.text_content=JSON.stringify(this.code,null,4),this.file_name=this.download_name)},show_copied_tooltip(){this.copied_tooltip=!0,setTimeout((()=>{this.copied_tooltip=!1}),1e3)},download_as_file(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}}),d=c,u=n(1001),p=(0,u.Z)(d,i,o,!1,null,null,null),_=p.exports}}]);
//# sourceMappingURL=504.js.map