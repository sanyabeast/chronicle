{"version":3,"file":"js/470.f50fa962.js","mappings":"kKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAUF,EAAIG,MAAMC,YAAY,OAAOF,EAAG,MAAM,CAACG,YAAY,cAAcC,MAAM,CAAEC,OAAQP,EAAIQ,WAAYC,GAAG,CAAC,UAAYT,EAAIU,mBAAmB,CAACR,EAAG,gBAAgB,CAACS,IAAI,iBAAiBC,MAAM,CAAC,oBAAsBZ,EAAIa,wBAAwB,EAC9S,EACIC,EAAkB,G,4DCiBtB,GAAAC,EAAAA,EAAAA,GAAAC,EAAAA,GAAAC,OAAA,CACAC,KAAA,aACAC,WAAA,CACAC,cAAAA,EAAAA,YAEAC,OACA,OACAR,oBAAA,iBACAS,UAAA,CACAC,EAAA,EACAC,EAAA,GAGA,EACAC,SAAA,GACAC,MAAA,CACAC,UAAA,CACAC,KAAAC,OACAC,QAAA,WAGAC,UACA,KAAAC,MAEA,EACAC,QAAA,CACAC,YACA,KAAAC,MAAAC,SAAAC,SAAAC,OAAAC,OAAA,KACA,KAAAJ,MAAAC,SAAAC,SAAAG,aAAAD,MAAAhB,EAAA,KAAAkB,MAAAC,eAAAC,MACA,KAAAR,MAAAC,SAAAC,SAAAG,aAAAD,MAAAf,EAAA,KAAAiB,MAAAC,eAAAE,OACA,KAAAT,MAAAC,SAAAC,SAAAQ,QAAAN,MAAAhB,EAAA,KAAAD,UAAAC,EACA,KAAAY,MAAAC,SAAAC,SAAAQ,QAAAN,MAAAf,EAAA,KAAAF,UAAAE,CACA,EACA,aACA,IAAAsB,EAAA,IAAAC,EAAAA,IAAA,SACAC,QAAAC,EAAAA,EAAAA,IAAAC,EAAAA,GAAA,KAAAvB,YAEAQ,EAAA,KAAAA,MAAA,IAAAY,EAAAA,IAAAD,EAAAE,GACA,KAAAP,MAAAC,eAAAS,MAAAC,IAAAjB,GACA,KAAAM,MAAAC,eAAAR,UAAA,KAAAA,SACA,EACAxB,iBAAA2C,GACA,KAAA/B,UAAAC,EAAA8B,EAAAC,QAAA,KAAAb,MAAAC,eAAAC,MACA,KAAArB,UAAAE,EAAA6B,EAAAE,QAAA,KAAAd,MAAAC,eAAAE,MACA,KC/DmQ,I,UCQ/PY,GAAY,OACd,EACAzD,EACAe,GACA,EACA,KACA,KACA,MAIF,EAAe0C,EAAiB,O","sources":["webpack://chronicle/./src/views/applets/ShaderView.vue","webpack://chronicle/src/views/applets/ShaderView.vue","webpack://chronicle/./src/views/applets/ShaderView.vue?2b19","webpack://chronicle/./src/views/applets/ShaderView.vue?2875"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"shader-view\",class:{ mobile: _vm.is_mobile },on:{\"mousemove\":_vm.handle_mousemove}},[_c('ThreeRenderer',{ref:\"three_renderer\",attrs:{\"download_image_name\":_vm.download_image_name}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div :class=\"{ mobile: is_mobile }\" class=\"shader-view\" @mousemove=\"handle_mousemove\">\r\n        <ThreeRenderer ref=\"three_renderer\" :download_image_name=\"download_image_name\">\r\n        </ThreeRenderer>\r\n    </div>\r\n    <!-- Other components and UI elements -->\r\n</div></template>\r\n  \r\n<script >\r\n\r\nimport * as THREE from 'three';\r\nimport mixins from 'vue-typed-mixins'\r\nimport ThreeRenderer from '../../components/ThreeRenderer.vue';\r\nimport BaseComponent from '@/components/BaseComponent.vue';\r\nimport read_text_file from '@/tools';\r\nimport load_texture from '@/tools';\r\nimport { create_shader_material } from '@/tools';\r\nimport { shaders } from '@/router/index'\r\n\r\nexport default mixins(BaseComponent).extend({\r\n    name: 'ShaderView',\r\n    components: {\r\n        ThreeRenderer,\r\n    },\r\n    data() {\r\n        return {\r\n            download_image_name: 'rendered_frame',\r\n            mouse_pos: {\r\n                x: 0,\r\n                y: 0\r\n            },\r\n        };\r\n    },\r\n    computed: {},\r\n    props: {\r\n        shader_id: {\r\n            type: String,\r\n            default: 'sample'\r\n        },\r\n    },\r\n    mounted() {\r\n        this.init()\r\n\r\n    },\r\n    methods: {\r\n        on_render() {\r\n            this.plane.material.uniforms.u_time.value += 1.0 / 60.0;\r\n            this.plane.material.uniforms.u_resolution.value.x = this.$refs.three_renderer.width;\r\n            this.plane.material.uniforms.u_resolution.value.y = this.$refs.three_renderer.height;\r\n            this.plane.material.uniforms.u_mouse.value.x = this.mouse_pos.x;\r\n            this.plane.material.uniforms.u_mouse.value.y = this.mouse_pos.y;\r\n        },\r\n        async init() {\r\n            let plane_geometry = new THREE.PlaneGeometry(1, 1, 1, 1);\r\n            let plane_material = await create_shader_material(shaders[this.shader_id]);\r\n\r\n            let plane = this.plane = new THREE.Mesh(plane_geometry, plane_material);\r\n            this.$refs.three_renderer.scene.add(plane);\r\n            this.$refs.three_renderer.on_render = this.on_render\r\n        },\r\n        handle_mousemove(event) {\r\n            this.mouse_pos.x = event.clientX / this.$refs.three_renderer.width;\r\n            this.mouse_pos.y = event.clientY / this.$refs.three_renderer.height;\r\n        }\r\n    },\r\n});\r\n</script>\r\n<style lang=\"less\">\r\n.shader-view {\r\n    padding: 0;\r\n\r\n    .renderer_container {\r\n        width: 100%;\r\n        height: 100%;\r\n\r\n        .controls {\r\n            .separator {\r\n                height: 16px;\r\n                border-bottom: 1px solid #fff;\r\n            }\r\n\r\n            .button {\r\n                box-sizing: border-box;\r\n\r\n                &.open-file {\r\n                    font-size: 24px;\r\n                }\r\n\r\n                &.toggle-grid,\r\n                &.toggle-tiling {\r\n                    &.active {\r\n                        color: red;\r\n                    }\r\n                }\r\n\r\n                &.mode {\r\n                    color: #555;\r\n\r\n                    &.active {\r\n                        color: #fff;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShaderView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShaderView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShaderView.vue?vue&type=template&id=0340a456&\"\nimport script from \"./ShaderView.vue?vue&type=script&lang=js&\"\nexport * from \"./ShaderView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShaderView.vue?vue&type=style&index=0&id=0340a456&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","class","mobile","is_mobile","on","handle_mousemove","ref","attrs","download_image_name","staticRenderFns","mixins","BaseComponent","extend","name","components","ThreeRenderer","data","mouse_pos","x","y","computed","props","shader_id","type","String","default","mounted","init","methods","on_render","plane","material","uniforms","u_time","value","u_resolution","$refs","three_renderer","width","height","u_mouse","plane_geometry","THREE","plane_material","create_shader_material","shaders","scene","add","event","clientX","clientY","component"],"sourceRoot":""}