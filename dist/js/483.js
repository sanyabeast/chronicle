"use strict";(self["webpackChunkchronicle"]=self["webpackChunkchronicle"]||[]).push([[483,99],{9461:function(e,r,t){t.r(r),t.d(r,{default:function(){return c}});var s=function(){var e=this,r=e._self._c;e._self._setupProxy;return r("div",{staticClass:"shader-view",class:{mobile:e.is_mobile},on:{mousemove:e.handle_mousemove}},[r("ThreeRenderer",{ref:"three_renderer",attrs:{force_width:e.force_width,force_height:e.force_height,download_image_name:e.download_image_name}})],1)},i=[],n=t(1114),o=t(7581),a=t(4026),h=t(9274),d=t(3889),u=t(3185),l=(0,o.Z)(a.Z).extend({name:"ShaderView",components:{ThreeRenderer:h["default"]},data(){return{download_image_name:"rende@color-accent_frame",mouse_pos:{x:0,y:0}}},computed:{},props:{shader_id:{type:String,default:"sample"},force_width:{type:Number,default:0},force_height:{type:Number,default:0}},mounted(){console.log("ShaderView inited, using shader",this.shader_id),this.init()},methods:{on_render(e){this.plane.material.uniforms.u_time.value+=1*e,this.plane.material.uniforms.u_resolution.value.x=this.$refs.three_renderer.width,this.plane.material.uniforms.u_resolution.value.y=this.$refs.three_renderer.height,this.plane.material.uniforms.u_mouse.value.x=this.mouse_pos.x,this.plane.material.uniforms.u_mouse.value.y=this.mouse_pos.y},async init(){if(!u.DJ[this.shader_id])throw new Error(`Shader ${this.shader_id} not found`);let e=new n._12(1,1,1,1),r=this.material=await(0,d.NO)(u.DJ[this.shader_id],{u_time:0,u_resolution:[0,0],u_mouse:[0,0]}),t=this.plane=new n.Kj0(e,r);this.$refs.three_renderer.scene.add(t),this.$refs.three_renderer.on_render=this.on_render},handle_mousemove(e){this.mouse_pos.x=e.clientX/this.$refs.three_renderer.width,this.mouse_pos.y=e.clientY/this.$refs.three_renderer.height}}}),_=l,m=t(1001),f=(0,m.Z)(_,s,i,!1,null,null,null),c=f.exports}}]);
//# sourceMappingURL=483.js.map