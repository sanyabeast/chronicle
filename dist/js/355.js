"use strict";(self["webpackChunkchronicle"]=self["webpackChunkchronicle"]||[]).push([[355,670,344],{3217:function(e,t,i){i.d(t,{Z:function(){return _}});var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"code-preview",class:{popup:e.popup,closing:e.closing},attrs:{title:e.language},on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")},mouseover:function(t){if(t.target!==t.currentTarget)return null;e.closing=!0},mouseout:function(t){if(t.target!==t.currentTarget)return null;e.closing=!1}}},[t("div",{staticClass:"content"},[e.popup?t("div",{staticClass:"popup-controls"},[t("button",{staticClass:"download",on:{click:function(t){return e.download_as_file(e.file_name,e.text_content)}}},[e._v("download")]),t("button",{staticClass:"copy",class:{copied_tooltip:e.copied_tooltip},on:{click:function(t){e.copy_to_clipboard(e.text_content),e.show_copied_tooltip()}}},[e._v("copy")]),t("button",{staticClass:"close",class:{closing:e.closing},on:{click:function(t){return e.$emit("close")},mouseover:function(t){if(t.target!==t.currentTarget)return null;e.closing=!0},mouseout:function(t){if(t.target!==t.currentTarget)return null;e.closing=!1}}},[e._v("close")])]):e._e(),t("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.text_content,expression:"text_content"}]},[t("code",{class:e.language})])])])},s=[],o=i(7581),a=i(4026),l=i(4806),r=i(3889),c=(0,o.Z)(a.Z).extend({name:"CodePreview",data(){return{copied_tooltip:!1,closing:!1,text_content:"",file_name:"unknown",language:"json"}},props:{code:{type:[String,Object],required:!0,default(){return'const example = "Hello, PrismJS!";'}},file:{type:String,default:null},popup:{type:Boolean,default:!1},download_name:{type:String,default:""}},mounted(){this.update()},watch:{code(){this.update()},file(){this.update()}},methods:{async update(){this.file?(this.text_content=await(0,r.fK)(this.file),this.file_name=this.download_name.length?this.download_name:this.file.split("/").pop(),this.language=this.detect_laguage(this.file),console.log("update",this.file,this.text_content)):((0,l.isString)(this.code)?(this.text_content=this.code,this.language="text"):(this.text_content=JSON.stringify(this.code,null,4),this.language="json"),this.file_name=this.download_name)},show_copied_tooltip(){this.copied_tooltip=!0,setTimeout((()=>{this.copied_tooltip=!1}),1e3)},download_as_file(e,t){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},detect_laguage(e){return e.endsWith(".js")?"javascript":e.endsWith(".py")?"python":e.endsWith(".ts")?"typescript":e.endsWith(".json")?"json":e.endsWith(".html")?"html":e.endsWith(".css")?"css":e.endsWith(".md")?"markdown":e.endsWith(".gd")?"gdscript":"json"}}}),d=c,u=i(1001),p=(0,u.Z)(d,n,s,!1,null,null,null),_=p.exports},8670:function(e,t,i){i.r(t),i.d(t,{default:function(){return _}});var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"image-view",on:{click:function(t){return e.$emit("click",t)}}},[t("img",{class:{loading:e.is_loading,fit_width:e.image_aspect_ratio<1},attrs:{src:e.src},on:{load:e.handle_image_load}}),e.is_loading?t("Preloader",{attrs:{full:"",fill:"",loader_type:e.loader_type}}):e._e()],1)},s=[],o=i(7581),a=i(2375),l=i(4026),r=i(4806),c=(0,o.Z)(l.Z).extend({name:"ImageView",components:{Preloader:a.Z},data(){return{is_loading:!0,image_width:0,image_height:0,image_aspect_ratio:0}},props:{src:{type:String,required:!0},loader_type:{type:String,default:a.d.Alternate01}},mounted(){(0,r.debounce)(this.set_loading,1e3)},methods:{handle_image_load(e){this.set_loading(!1),this.image_width=e.target.naturalWidth,this.image_height=e.target.naturalHeight,this.image_aspect_ratio=this.image_width/this.image_height},set_loading(e){this.is_loading=e}}}),d=c,u=i(1001),p=(0,u.Z)(d,n,s,!1,null,null,null),_=p.exports},6820:function(e,t,i){i.r(t),i.d(t,{EFileType:function(){return s},EPackageExplorerMode:function(){return n},default:function(){return w}});var n,s,o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"root",staticClass:"package-explorer"},[e.package_data?t("div",{staticClass:"files"},e._l(e.package_data,(function(i,n){return t("a",{key:`file_${n}`,staticClass:"file",attrs:{title:i[1],target:"_blank","data-file-type":e.detect_file_type(i[1]),href:i[1]},on:{click:function(t){return e.handle_link_pointerdown(t,i)}}},[t("ImageView",{attrs:{src:e.get_file_type_icon(e.detect_file_type(i[1]))}}),t("div",{staticClass:"data"},[t("p",{staticClass:"title",domProps:{innerHTML:e._s(i[0])}}),t("p",{staticClass:"path",domProps:{innerHTML:e._s(i[1])}})])],1)})),0):e._e(),e.show_syntax?t("CodePreview",{ref:"syntax",attrs:{popup:"true",file:e.syntax_file},on:{close:function(t){e.show_syntax=!1}}}):e._e()],1)},a=[],l=i(7581),r=i(2007),c=i(4026),d=i(8670),u=i(3185),p=i(4806),_=i(3217);(function(e){e[e["Default"]=0]="Default",e[e["Lite"]=1]="Lite"})(n||(n={})),function(e){e["Link"]="link",e["Image"]="image",e["Video"]="video",e["Audio"]="audio",e["Text"]="text",e["Mail"]="mail",e["GoogleLink"]="google-link",e["Markdown"]="markdown",e["GithubRepo"]="github-repo",e["WikipediaArticle"]="wikipedia-article",e["SketchfabModel"]="sketchfab-model",e["AndroidApk"]="android-apk",e["WindowsExe"]="windows-exe",e["MacosDMG"]="macos-dmg",e["LocalFile"]="local-file",e["PythonScript"]="python-script",e["TypescriptFile"]="typescript-file",e["GodotScript"]="godot-script"}(s||(s={}));const h=[s.Text,s.Markdown,s.PythonScript,s.TypescriptFile,s.GodotScript];var g=(0,l.Z)(c.Z).extend({name:"PackageExplorer",components:{Showdown:r["default"],ImageView:d["default"],CodePreview:_.Z},data(){return{show_syntax:!1,syntax_file:null}},mounted(){},watch:{package(){}},computed:{package_data(){return(0,p.get)(u.B9,this.package,null)}},props:{package:null,mode:{type:Number,default:n.Default}},methods:{handle_link_pointerdown(e,t){console.log("handle_link_pointerdown",e,t),this.should_file_should_be_opened_in_syntax_highlighter(this.detect_file_type(t[1]))&&(e.preventDefault(),this.syntax_file=t[1],this.show_syntax=!0)},should_file_should_be_opened_in_syntax_highlighter(e){return h.includes(e)},detect_file_type(e){if(!(0,p.isString)(e))throw new Error("url is not a string");console.dir(e);let t=s.Link;return e.startsWith("mailto:")?s.Mail:e.includes("github.com")?s.GithubRepo:e.includes("wikipedia.org")?s.WikipediaArticle:e.includes("sketchfab.com")?s.SketchfabModel:e.includes("google.com")?s.GoogleLink:e.endsWith(".md")?s.Markdown:e.endsWith(".txt")?s.Text:e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")||e.endsWith(".gif")?s.Image:e.endsWith(".mp4")||e.endsWith(".webm")||e.endsWith(".ogg")?s.Video:e.endsWith(".mp3")||e.endsWith(".wav")||e.endsWith(".ogg")?s.Audio:e.endsWith(".apk")?s.AndroidApk:e.endsWith(".exe")?s.WindowsExe:e.endsWith(".dmg")?s.MacosDMG:e.endsWith(".py")?s.PythonScript:e.endsWith(".ts")?s.TypescriptFile:e.endsWith(".gd")?s.GodotScript:e.startsWith("assets/")?s.LocalFile:t},get_file_type_icon(e){switch(e){case s.Text:return"assets/icons/file_txt_01.png";case s.Markdown:return"assets/icons/file_markdown_01.png";case s.Image:return"assets/icons/file_image_01.png";case s.Video:return"assets/icons/file_video_01.png";case s.Audio:return"assets/icons/file_audio_01.png";case s.Mail:return"assets/icons/file_mailto_01.png";case s.PythonScript:return"assets/icons/file_python_01.png";case s.TypescriptFile:return"assets/icons/file_typescript_01.png";case s.GodotScript:return"assets/icons/file_godot_01.png";case s.GoogleLink:return"assets/icons/file_google_01.png";case s.GithubRepo:return"assets/icons/file_github_01.png";case s.WindowsExe:case s.AndroidApk:case s.MacosDMG:return"assets/icons/file_windows_app_01.png";case s.LocalFile:return"assets/icons/file_local_01.png";default:return"assets/icons/file_unknown_03.png"}}}}),f=g,m=i(1001),y=(0,m.Z)(f,o,a,!1,null,null,null),w=y.exports},2375:function(e,t,i){i.d(t,{d:function(){return n},Z:function(){return u}});var n,s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"preloader",class:{full:e.full,fill:e.fill}},[t("span",{staticClass:"loader",attrs:{"data-loader-type":e.loader_type}})])},o=[],a=i(6369);(function(e){e["Default"]="default",e["DefaultInner"]="default-inner",e["Alternate01"]="alternate-01",e["Alternate02"]="alternate-02",e["Coffee"]="coffee",e["Chiptune"]="chiptune"})(n||(n={}));var l=a.ZP.extend({name:"Preloader",data(){return{}},props:{full:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},loader_type:{type:String,default:n.Alternate01}},mounted(){},methods:{}}),r=l,c=i(1001),d=(0,c.Z)(r,s,o,!1,null,"676665e7",null),u=d.exports}}]);
//# sourceMappingURL=355.js.map