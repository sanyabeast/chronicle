{"version":3,"file":"js/851.js","mappings":"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","sources":["webpack://chronicle/./src/components/Canvas2D.vue","webpack://chronicle/./src/components/Canvas2D.vue?5efa","webpack://chronicle/./src/components/Canvas2D.vue?f20c","webpack://chronicle/./src/components/Canvas2D.vue?4773","webpack://chronicle/./node_modules/alea/alea.js","webpack://chronicle/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://chronicle/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://chronicle/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://chronicle/./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"canvas2d\",class:{ decoration: _vm.decoration },on:{\"mousemove\":_vm.handle_mousemove,\"mousedown\":function($event){_vm.user.pointer.is_down = true},\"mouseup\":function($event){_vm.user.pointer.is_down = false},\"contextmenu\":_vm.handle_contextmenu}},[_c('canvas',{ref:\"canvas\"}),(_vm.decoration)?_c('div',{staticClass:\"label\"},[_c('p',[_vm._v(\"Canvas 2D\")])]):_vm._e(),(_vm.show_debug)?_c('div',{staticClass:\"debug-layer\"},[_c('div',[_c('p',[_vm._v(\"frames\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(`${this.stats.frames_rendered}`)}})]),_c('div',[_c('p',[_vm._v(\"items r/s\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(`${this.stats.items_rendered}/${this.stats.items_skipped}`)}})]),_c('div',[_c('p',[_vm._v(\"canvas\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(`[${this.width}x${this.height}] (${this.resolution}x)`)}})]),_c('div',[_c('p',[_vm._v(\"viewport\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(`${this.viewport.width}x${this.viewport.height}`)}})]),_c('div',[_c('p',[_vm._v(\"user\")]),_c('p',{domProps:{\"innerHTML\":_vm._s(`${this.viewport.computed.scale.toFixed(2)}% [x+${this.viewport.computed.offset.x.toFixed(2)}, y+${this.viewport.computed.offset.y.toFixed(2)}]`)}})])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nimport Vue from 'vue';\r\n\r\n\r\nexport default Vue.extend({\r\n    name: 'Canvas2d',\r\n    data() {\r\n        return {\r\n            // virtual viewport dimensions\r\n\r\n            // real canvas dimensions\r\n            height: 1,\r\n            width: 1,\r\n            aspect_ratio: 1,\r\n            resolution: 1,\r\n            // \r\n            viewport: {\r\n                width: 1,\r\n                height: 1,\r\n                padding: 16,\r\n                rect_size: 1,\r\n                computed: {\r\n                    offset: {\r\n                        x: 0,\r\n                        y: 0\r\n                    },\r\n                    scale: 1,\r\n                },\r\n                min_scale: 0.125,\r\n                max_scale: 4\r\n            },\r\n            user: {\r\n                pointer: {\r\n                    position: {\r\n                        x: 0,\r\n                        y: 0\r\n                    },\r\n                    is_down: false\r\n                },\r\n                scale: 1,\r\n                offset: {\r\n                    x: 0,\r\n                    y: 0\r\n                },\r\n\r\n            },\r\n            stats: {\r\n                frames_rendered: 0,\r\n                items_rendered: 0,\r\n                items_skipped: 0,\r\n            },\r\n            render_loop: null,\r\n            items_rendered: 0,\r\n            items_skipped: 0,\r\n        }\r\n    },\r\n    props: {\r\n        show_debug: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        allow_user_scale: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        allow_user_translate: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        allow_context_menu: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        decoration: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    mounted() {\r\n        this.resolution = window.devicePixelRatio || 1;\r\n\r\n        this.canvas = this.$refs.canvas as HTMLCanvasElement;\r\n        this.context = this.canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n        this.hidden_canvas = document.createElement('canvas');\r\n        this.hidden_context = this.hidden_canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n        this.resize_canvas();\r\n        this.resize_canvas = this.resize_canvas.bind(this);\r\n        this.handle_scroll = this.handle_scroll.bind(this);\r\n\r\n        window.addEventListener('resize', this.resize_canvas);\r\n        this.$el.addEventListener('mousewheel', this.handle_scroll, { passive: false });\r\n        window.addEventListener('keydown', this.handle_keypress);\r\n    },\r\n    beforeDestroy() {\r\n        window.removeEventListener('resize', this.resize_canvas);\r\n        this.$el.removeEventListener('mousewheel', this.handle_scroll);\r\n        window.removeEventListener('keydown', this.handle_keypress);\r\n    },\r\n    methods: {\r\n        handle_contextmenu(event) {\r\n            if (!this.allow_context_menu) {\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        handle_keypress(event) {\r\n\r\n        },\r\n        reset_user_transform() {\r\n            this.user.scale = 1;\r\n            this.user.offset.x = 0;\r\n            this.user.offset.y = 0;\r\n            this.compute_viewport();\r\n            this.$emit('update');\r\n        },\r\n        screen_to_viewport({ x, y }) {\r\n            x = x * this.resolution;\r\n            y = y * this.resolution;\r\n\r\n\r\n            let v_dx = this.viewport.computed.offset.x * this.viewport.computed.scale;\r\n            let v_dy = this.viewport.computed.offset.y * this.viewport.computed.scale;\r\n\r\n            return {\r\n                x: (x - v_dx) / this.viewport.computed.scale,\r\n                y: (y - v_dy) / this.viewport.computed.scale\r\n            }\r\n        },\r\n        viewport_to_screen({ x, y }) {\r\n            let v_dx = this.viewport.computed.offset.x * this.viewport.computed.scale;\r\n            let v_dy = this.viewport.computed.offset.y * this.viewport.computed.scale;\r\n\r\n            return {\r\n                x: x * this.viewport.computed.scale + v_dx,\r\n                y: y * this.viewport.computed.scale + v_dy\r\n            }\r\n        },\r\n        handle_mousemove(event: MouseEvent) {\r\n            this.user.pointer.position.x = event.offsetX * this.resolution;\r\n            this.user.pointer.position.y = event.offsetY * this.resolution;\r\n\r\n            if (this.user.pointer.is_down) {\r\n                if (this.allow_user_translate) {\r\n                    this.user.offset.x += (event.movementX * this.resolution) / this.viewport.computed.scale;\r\n                    this.user.offset.y += (event.movementY * this.resolution) / this.viewport.computed.scale;\r\n\r\n                    this.compute_viewport();\r\n                    this.$emit('update');\r\n                }\r\n            }\r\n        },\r\n        set_canvas_settings({ fill_color, stroke_color, line_width, alpha }) {\r\n            if (fill_color !== undefined) {\r\n                this.hidden_context.fillStyle = fill_color;\r\n            }\r\n\r\n            if (stroke_color !== undefined) {\r\n                this.hidden_context.strokeStyle = stroke_color;\r\n            }\r\n\r\n            if (line_width !== undefined) {\r\n                this.hidden_context.lineWidth = line_width * this.viewport.computed.scale;\r\n            }\r\n\r\n            if (alpha !== undefined) {\r\n                this.hidden_context.globalAlpha = alpha;\r\n            }\r\n        },\r\n        reset_canvas_settings() {\r\n            this.hidden_context.fillStyle = 'black';\r\n            this.hidden_context.strokeStyle = 'black';\r\n            this.hidden_context.lineWidth = 1;\r\n            this.hidden_context.globalAlpha = 1;\r\n        },\r\n        handle_scroll(event: WheelEvent) {\r\n            // altering scale considering mouse position\r\n            if (this.allow_user_scale) {\r\n                event.preventDefault();\r\n\r\n                let scale = this.user.scale + event.deltaY * -0.001;\r\n                // let mouse_position = this.screen_to_viewport({ x: event.offsetX, y: event.offsetY });\r\n\r\n\r\n                // Restrict scale\r\n                scale = Math.min(Math.max(this.viewport.min_scale, scale), this.viewport.max_scale);\r\n\r\n                this.user.offset.x -= this.user.pointer.position.x / this.viewport.computed.scale;\r\n                this.user.offset.y -= this.user.pointer.position.y / this.viewport.computed.scale;\r\n\r\n                this.compute_viewport()\r\n\r\n                this.user.scale = scale;\r\n\r\n                this.compute_viewport()\r\n\r\n\r\n                // this.compute_viewport();\r\n\r\n                this.user.offset.x += this.user.pointer.position.x / this.viewport.computed.scale;\r\n                this.user.offset.y += this.user.pointer.position.y / this.viewport.computed.scale;\r\n\r\n                this.compute_viewport()\r\n\r\n                // this.user.offset.x -= extra_offset.x;\r\n                // this.user.offset.y -= extra_offset.y;\r\n\r\n                // Compute ratios between old and new offsets\r\n                this.compute_viewport();\r\n                this.$emit('update');\r\n            }\r\n        },\r\n        clear(clear_color: String) {\r\n            this.hidden_context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n            this.hidden_context.fillStyle = clear_color;\r\n            this.hidden_context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n        },\r\n        draw_rect({ x, y, width, height, fill_color, stroke_color, line_width = 0, alpha = 1, rotation = 0 }) {\r\n            if (x === undefined || y === undefined || width === undefined || height === undefined) {\r\n                throw new Error('x, y, width, height are required');\r\n            }\r\n\r\n            if (!this.should_skip_rendering(x, y, width, height)) {\r\n                let v_dx = this.viewport.computed.offset.x * this.viewport.computed.scale;\r\n                let v_dy = this.viewport.computed.offset.y * this.viewport.computed.scale;\r\n                x = x * this.viewport.computed.scale + v_dx;\r\n                y = y * this.viewport.computed.scale + v_dy;\r\n                width = width * this.viewport.computed.scale;\r\n                height = height * this.viewport.computed.scale;\r\n\r\n                this.set_canvas_settings({ fill_color, stroke_color, line_width, alpha });\r\n\r\n                if (fill_color) {\r\n                    this.hidden_context.fillRect(x, y, width, height);\r\n                }\r\n\r\n                if (stroke_color) {\r\n                    this.hidden_context.strokeRect(x, y, width, height);\r\n                }\r\n\r\n                this.items_rendered++\r\n                this.reset_canvas_settings();\r\n            } else {\r\n                this.items_skipped++\r\n            }\r\n        },\r\n        draw_text({ x, y, text, fill_color, stroke_color, font_family, font_size, font_weight, text_align, max_width, alpha = 1 }) {\r\n            if (x === undefined || y === undefined || text === undefined) {\r\n                throw new Error('x, y, text are required');\r\n            }\r\n\r\n            let x0 = x\r\n            let y0 = y\r\n\r\n            let v_dx = this.viewport.computed.offset.x * this.viewport.computed.scale;\r\n            let v_dy = this.viewport.computed.offset.y * this.viewport.computed.scale;\r\n\r\n            x = x * this.viewport.computed.scale + v_dx;\r\n            y = y * this.viewport.computed.scale + v_dy;\r\n\r\n            if (font_family || font_size || font_weight) {\r\n                font_family = font_family || 'sans-serif';\r\n                font_size = font_size || (16 / this.viewport.computed.scale);\r\n                font_weight = font_weight || 'normal';\r\n\r\n                this.hidden_context.font = `${font_weight || ''} ${(font_size * this.viewport.computed.scale) || ''}px ${font_family}`;\r\n                let font_scale = 1;\r\n\r\n                let text_measurement = this.measure_text({ text, font_family, font_size, font_weight });\r\n\r\n                if (this.should_skip_rendering_text(x0, y0, text_measurement.width, text_measurement.height)) {\r\n                    this.items_skipped++\r\n                    return;\r\n                }\r\n\r\n                if (max_width && text_measurement.width > max_width) {\r\n                    font_scale = max_width / text_measurement.width;\r\n                }\r\n\r\n                this.hidden_context.font = `${font_weight || ''} ${(font_size * this.viewport.computed.scale * font_scale) || ''}px ${font_family}`;\r\n            }\r\n\r\n            this.set_canvas_settings({ fill_color, stroke_color })\r\n\r\n            if (text_align) {\r\n                this.hidden_context.textAlign = text_align;\r\n            }\r\n\r\n            if (fill_color) {\r\n                this.hidden_context.fillText(text, x, y);\r\n            }\r\n\r\n            if (stroke_color) {\r\n                this.hidden_context.strokeText(text, x, y);\r\n            }\r\n\r\n            this.items_rendered++\r\n            this.reset_canvas_settings();\r\n        },\r\n        measure_text({ text, font_family, font_size, font_weight }) {\r\n            if (font_family) {\r\n                this.hidden_context.font = `${font_weight || ''} ${(font_size * this.viewport.computed.scale) || ''}px ${font_family}`;\r\n            }\r\n\r\n            let text_measure = this.hidden_context.measureText(text);\r\n\r\n            return {\r\n                width: text_measure.width / this.viewport.computed.scale,\r\n                height: text_measure.actualBoundingBoxAscent / this.viewport.computed.scale,\r\n            }\r\n        },\r\n        draw_line({ points, stroke_color, line_width, alpha = 1 }) {\r\n            if (points === undefined) {\r\n                throw new Error('points are required');\r\n            }\r\n\r\n            if (points.length < 2) {\r\n                throw new Error('at least 2 points are required');\r\n            }\r\n\r\n            if (!this.should_skip_rendering_line(line_width)) {\r\n                this.set_canvas_settings({ stroke_color, line_width, alpha });\r\n\r\n                this.hidden_context.beginPath();\r\n\r\n                let v_dx = this.viewport.computed.offset.x * this.viewport.computed.scale;\r\n                let v_dy = this.viewport.computed.offset.y * this.viewport.computed.scale;\r\n\r\n                this.hidden_context.moveTo(\r\n                    points[0].x * this.viewport.computed.scale + v_dx,\r\n                    points[0].y * this.viewport.computed.scale + v_dy\r\n                );\r\n\r\n                for (let i = 1; i < points.length; i++) {\r\n                    this.hidden_context.lineTo(\r\n                        points[i].x * this.viewport.computed.scale + v_dx,\r\n                        points[i].y * this.viewport.computed.scale + v_dy\r\n                    );\r\n                }\r\n\r\n                this.hidden_context.stroke();\r\n\r\n                this.items_rendered++\r\n                this.reset_canvas_settings();\r\n            } else {\r\n                this.items_skipped++\r\n            }\r\n        },\r\n        resize_canvas(emit_event: boolean = true) {\r\n            if (this.canvas) {\r\n                let new_width = Math.ceil(this.canvas.clientWidth * this.resolution);\r\n                let new_height = Math.ceil(this.canvas.clientHeight * this.resolution);\r\n\r\n                this.canvas.width = this.hidden_canvas.width = this.width = new_width;\r\n                this.canvas.height = this.hidden_canvas.height = this.height = new_height;\r\n                this.aspect_ratio = this.width / this.height;\r\n                this.compute_viewport();\r\n\r\n                if (emit_event) {\r\n                    this.$emit('update');\r\n                }\r\n            }\r\n        },\r\n        render() {\r\n            this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n            this.context.drawImage(this.hidden_canvas, 0, 0);\r\n            this.stats.frames_rendered++;\r\n            this.stats.items_rendered = this.items_rendered;\r\n            this.stats.items_skipped = this.items_skipped;\r\n            this.items_rendered = 0;\r\n            this.items_skipped = 0;\r\n        },\r\n\r\n        // method computeds viewport.translate and viewport.scale properties so that the virtual viewport fits the real canvas\r\n        // method does not alternates viewport.width and viewport.height propeties\r\n        compute_viewport() {\r\n            let scale = 1\r\n            let viewport_aspect_ratio = this.viewport.width / this.viewport.height;\r\n\r\n            let padded_width = this.width - this.viewport.padding * 2;\r\n            let padded_height = this.height - this.viewport.padding * 2;\r\n\r\n            if (viewport_aspect_ratio > this.aspect_ratio) {\r\n                scale = padded_width / this.viewport.width;\r\n                this.viewport.rect_size = padded_width\r\n            } else {\r\n                scale = padded_height / this.viewport.height;\r\n                this.viewport.rect_size = padded_height\r\n            }\r\n\r\n            this.viewport.computed.scale = scale * this.user.scale;\r\n            // centrizing virtual viewport\r\n            // this.viewport.computed.offset.x = (this.width - this.viewport.width * scale) / 2;\r\n            // this.viewport.computed.offset.y = (this.height - this.viewport.height * scale) / 2;\r\n\r\n            // applying user transform\r\n            this.viewport.computed.offset.x = this.user.offset.x;\r\n            this.viewport.computed.offset.y = this.user.offset.y;\r\n        },\r\n        centrize() {\r\n            this.user.offset.x = (this.width / this.viewport.computed.scale - this.viewport.width) / 2;\r\n            this.user.offset.y = (this.height / this.viewport.computed.scale - this.viewport.height) / 2;\r\n            this.compute_viewport();\r\n            this.$emit('update');\r\n        },\r\n        should_skip_rendering(x, y, width, height) {\r\n            let v_dx = this.viewport.computed.offset.x * this.viewport.computed.scale;\r\n            let v_dy = this.viewport.computed.offset.y * this.viewport.computed.scale;\r\n            x = x * this.viewport.computed.scale + v_dx;\r\n            y = y * this.viewport.computed.scale + v_dy;\r\n            width = width * this.viewport.computed.scale;\r\n            height = height * this.viewport.computed.scale;\r\n\r\n            if (width < this.resolution / 2 || height < this.resolution / 2) {\r\n                return true;\r\n            }\r\n\r\n            return x > this.width || x + width < 0 || y > this.height || y + height < 0;\r\n        },\r\n        should_skip_rendering_line(line_width) {\r\n            return line_width * this.viewport.computed.scale < this.resolution / 2;\r\n        },\r\n        should_skip_rendering_text(x, y, width, height) {\r\n            if (height * this.viewport.computed.scale < 4 * this.resolution) {\r\n                return true;\r\n            }\r\n\r\n            return this.should_skip_rendering(x, y, width, height);\r\n        }\r\n    }\r\n});\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Canvas2D.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Canvas2D.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Canvas2D.vue?vue&type=template&id=6eacedc4&\"\nimport script from \"./Canvas2D.vue?vue&type=script&lang=ts&\"\nexport * from \"./Canvas2D.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Canvas2D.vue?vue&type=style&index=0&id=6eacedc4&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","(function (root, factory) {\n  if (typeof exports === 'object') {\n      module.exports = factory();\n  } else if (typeof define === 'function' && define.amd) {\n      define(factory);\n  } else {\n      root.Alea = factory();\n  }\n}(this, function () {\n\n  'use strict';\n\n  // From http://baagoe.com/en/RandomMusings/javascript/\n\n  // importState to sync generator states\n  Alea.importState = function(i){\n    var random = new Alea();\n    random.importState(i);\n    return random;\n  };\n\n  return Alea;\n\n  function Alea() {\n    return (function(args) {\n      // Johannes BaagÃ¸e <baagoe@baagoe.com>, 2010\n      var s0 = 0;\n      var s1 = 0;\n      var s2 = 0;\n      var c = 1;\n\n      if (args.length == 0) {\n        args = [+new Date];\n      }\n      var mash = Mash();\n      s0 = mash(' ');\n      s1 = mash(' ');\n      s2 = mash(' ');\n\n      for (var i = 0; i < args.length; i++) {\n        s0 -= mash(args[i]);\n        if (s0 < 0) {\n          s0 += 1;\n        }\n        s1 -= mash(args[i]);\n        if (s1 < 0) {\n          s1 += 1;\n        }\n        s2 -= mash(args[i]);\n        if (s2 < 0) {\n          s2 += 1;\n        }\n      }\n      mash = null;\n\n      var random = function() {\n        var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n        s0 = s1;\n        s1 = s2;\n        return s2 = t - (c = t | 0);\n      };\n      random.next = random;\n      random.uint32 = function() {\n        return random() * 0x100000000; // 2^32\n      };\n      random.fract53 = function() {\n        return random() + \n          (random() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n      };\n      random.version = 'Alea 0.9';\n      random.args = args;\n\n      // my own additions to sync state between two generators\n      random.exportState = function(){\n        return [s0, s1, s2, c];\n      };\n      random.importState = function(i){\n        s0 = +i[0] || 0;\n        s1 = +i[1] || 0;\n        s2 = +i[2] || 0;\n        c = +i[3] || 0;\n      };\n \n      return random;\n\n    } (Array.prototype.slice.call(arguments)));\n  }\n\n  function Mash() {\n    var n = 0xefc8249d;\n\n    var mash = function(data) {\n      data = data.toString();\n      for (var i = 0; i < data.length; i++) {\n        n += data.charCodeAt(i);\n        var h = 0.02519603282416938 * n;\n        n = h >>> 0;\n        h -= n;\n        h *= n;\n        n = h >>> 0;\n        h -= n;\n        n += h * 0x100000000; // 2^32\n      }\n      return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n\n    mash.version = 'Mash 0.9';\n    return mash;\n  }\n}));\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","class","decoration","on","handle_mousemove","$event","user","pointer","is_down","handle_contextmenu","ref","_v","_e","show_debug","domProps","_s","stats","frames_rendered","items_rendered","items_skipped","width","height","resolution","viewport","computed","scale","toFixed","offset","x","y","staticRenderFns","Vue","extend","name","data","aspect_ratio","padding","rect_size","min_scale","max_scale","position","render_loop","props","type","Boolean","default","allow_user_scale","allow_user_translate","allow_context_menu","mounted","window","devicePixelRatio","canvas","$refs","context","getContext","hidden_canvas","document","createElement","hidden_context","resize_canvas","bind","handle_scroll","addEventListener","$el","passive","handle_keypress","beforeDestroy","removeEventListener","methods","event","preventDefault","reset_user_transform","compute_viewport","$emit","screen_to_viewport","v_dx","v_dy","viewport_to_screen","offsetX","offsetY","movementX","movementY","set_canvas_settings","fill_color","stroke_color","line_width","alpha","undefined","fillStyle","strokeStyle","lineWidth","globalAlpha","reset_canvas_settings","deltaY","Math","min","max","clear","clear_color","clearRect","fillRect","draw_rect","rotation","Error","should_skip_rendering","strokeRect","draw_text","text","font_family","font_size","font_weight","text_align","max_width","x0","y0","font","font_scale","text_measurement","measure_text","should_skip_rendering_text","textAlign","fillText","strokeText","text_measure","measureText","actualBoundingBoxAscent","draw_line","points","length","should_skip_rendering_line","beginPath","moveTo","i","lineTo","stroke","emit_event","new_width","ceil","clientWidth","new_height","clientHeight","drawImage","viewport_aspect_ratio","padded_width","padded_height","centrize","component","root","factory","module","exports","Alea","importState","random","args","s0","s1","s2","c","Date","mash","Mash","t","next","uint32","fract53","version","exportState","Array","prototype","slice","call","arguments","n","toString","charCodeAt","h","_typeof","obj","Symbol","iterator","constructor","_toPrimitive","input","hint","prim","toPrimitive","res","TypeError","String","Number","_toPropertyKey","arg","key","_defineProperty","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable"],"sourceRoot":""}